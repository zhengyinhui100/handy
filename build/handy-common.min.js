/* Handy v1.0.0-dev | 2014-02-26 | zhengyinhui100@gmail.com */
$Define("cm.AbstractView",function(){var k=$HO.createClass();$HO.extend(k.prototype,{initialize:function(){this.initListeners()},getEl:function(){return this._container},fire:function(a,b){for(var c=this._listeners.length-1;0<=c;c--){var e=this._listeners[c];if(e.type==a){var d=e.delegation;b?d.apply(null,b.shift(e)):d(e)}}},listen:function(a){var b=this,c=a.type,e=b._listeners,d=a.el,f=a.method||"bind",g=a.selector,h=a.data,j=a.delegation=function(){if(!0!=b.isSuspend)return a.handler.apply(a.scope||
b,arguments)};$H.Browser.mobile()&&"click"==c&&(c="touchend");d=d?"string"==typeof d?b.find(d):d:b.getEl();if(!a.notEl)if(g)if(h)d[f](g,c,h,j);else d[f](g,c,j);else if(h)d[f](c,h,j);else d[f](c,j);e.push(a)},unlisten:function(a){var b=a.type,c=a.el,e="delegate"==a.method?"undelegate":"unbind",d=a.selector,f;$H.Browser.mobile()&&"click"==b&&(b="touchend");for(var c=c?"string"==typeof c?this.find(c):c:this.getEl(),g=this._listeners.length-1;0<=g;g--){var h=this._listeners[g];if(h.handler==a.handler){f=
h.delegation;this._listeners.splice(g,1);break}}if(!a.notEl)if(d)c[e](d,b,f);else c[e](b,f)},initListeners:function(){if(this.listened)return!1;this.listened=!0;var a=this._listeners;this._listeners=[];for(var b=a.length-1;0<=b;b--)this.listen(a[b])},clearListeners:function(){for(var a=this._listeners,b=a.length-1;0<=b;b--)this.unlisten(a[b])},suspendListeners:function(){if(this.isSuspend)return!1;this.isSuspend=!0},resumeListeners:function(){if(!this.isSuspend)return!1;this.isSuspend=!1},destroy:function(){if(this.destroyed)return!1;
this.fire("destroy");this.clearListeners();this.getEl().remove();this.destroyed=!0}});return k});
