/* Handy v1.0.0-dev  |  zhengyinhui100@gmail.com */
(function(){var d=window.handy,a=window.$,b=window.handy=window.$=function(){};b.version="1.0.0";b.expando="handy"+(b.version+Math.random()).replace(/\D/g,"");b.add=function(c,a,g){g||(g=a);b.base||(b.base={});b.base[c]=b[c]=g(b)};b.noConflict=function(c){window.$===b&&(window.$=a);c&&window.handy===b&&(window.handy=d);return b}})();
handy.add("Object",function(){function d(){var b=window.navigator.userAgent.match(/MSIE ([\d.]+)/);return b&&9>parseInt(b[0])?function(b,a,g){var d=[];if(b.length){a=a||0;for(g=g||b.length;a<g;a++)d.push(b[a])}return d}:function(b,a,g){return Array.prototype.slice.call(b,a||0,g||b.length)}}var a={namespace:function(b,a){var e=null,g,d,h;d=b.split(".");e=d[0];e=eval("(function(){if (typeof "+e+' == "undefined"){'+e+" = {};}return "+e+";})()");g=1;for(h=d.length;g<h;++g){if(g==h-1&&a)e[d[g]]=a;else if(a||
e[d[g]])e[d[g]]=e[d[g]]||{};else return;e=e[d[g]]}return e},createClass:function(b){var a=function(){var b,d;b=this.constructor==a?this:arguments.callee;if(d=b.initialize)return d.apply(b,arguments)};b&&this.namespace(b,a);return a},extend:function(b,c,e){var d=e?e.notCover:!1;e=e?e.notClone:!1;for(var f in c)if(!d||!b.hasOwnProperty(f))b[f]=e?c[f]:a.clone(c[f]);return b},mix:function(b,c,e,d){b.superClass||(b.superClass={});for(var f in c)b.superClass[f]=a.isFunction(c[f])?b.superClass[f]?function(b,
a){return function(){a.apply(this,arguments);c[b].apply(this,arguments)}}(f,b.superClass[f]):c[f]:c[f],b[f]||(b[f]=c[f]);e&&a.extend(b,e);c.toString!=c.constructor.prototype.toString&&(b.superClass.toString=function(){c.toString.apply(b,arguments)});d&&(b.prototype&&c.prototype)&&a.inherit(b,c,d);return b},inherit:function(b,c,e){var d=function(){};d.prototype=c.prototype;a.extend(b,c,{notCover:!0});b.prototype=new d;b.prototype.constructor=b;b.superConstructor=c;b.superClass=c.prototype;if(c._onInherit)try{c._onInherit(b)}catch(f){}e&&
a.extend(b.prototype,e)},isFunction:function(b){return"[object Function]"===window.Object.prototype.toString.call(b)},isArray:function(b){return"[object Array]"===window.Object.prototype.toString.call(b)},equals:function(b,c){if(typeof b==typeof c){if("object"!=typeof b)return b===c;if(b===c)return!0;if(a.isArray(b)&&a.isArray(c)){if(b.length!=c.length)return!1;for(var e=0,d=b.length;e<d;e++)if(!a.equals(b[e],c[e]))return!1;return!0}if(!a.isArray(b)&&!a.isArray(c)){if(a.count(b)!=a.count(c))return!1;
for(e in b)if(void 0==c[e]||!a.equals(b[e],c[e]))return!1;return!0}}return!1},clone:function(b){if(null==b||"object"!=typeof b)return b;var c=b.constructor;if(c!=window.Object&&c!=window.Array)return b;if(c==window.Date||c==window.RegExp||c==window.Function||c==window.String||c==window.Number||c==window.Boolean)return new c(b);try{var e=new c,d;for(d in b)e[d]=a.clone(b[d]);return e}catch(f){return b}},isEmpty:function(b){if(a.isArray(b))return 0==b.length;for(var c in b)return!1;return!0},each:function(b,
c,e){var d,f=0,h=b.nLength,k=void 0===h||a.isFunction(b);if(e)if(k)for(d in b){if(!1===c.apply(b[d],e))break}else for(;f<h&&!1!==c.apply(b[f++],e););else if(k)for(d in b){if(!1===c.call(b[d],d,b[d]))break}else for(;f<h&&!1!==c.call(b[f],f,b[f++]););return b},count:function(b){if(a.isArray(b))return b.length;var c=0,e;for(e in b)c++;return c},toArray:d,genMethod:function(b,c,e){c=a.isArray(c)?c:c.split(",");for(var d=0;d<c.length;d++){var f=c[d];b[f]=e(f)}}},d=d();return a});
handy.add("Date",function(){var d=window.Date,a={getWeek:function(b,a){var e=b.getDay();a&&(e=(e+(a%7+7))%7);return"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")[e]},isWeeken:function(b){return 0==b.getDay()||6==b.getDay()},getDaysInMonth:function(b){b=new d(b.getFullYear(),b.getMonth()+1,0);return b.getDate()},getDaysInYear:function(b){var a=new d(b.getFullYear(),0,0);b=new d(b.getFullYear()+1,0,0);return Math.floor((b.getTime()-a.getTime())/864E5)},getDayIndexOfYear:function(b){var a=new d("1/1/"+
b.getFullYear());return Math.ceil((b.getTime()-a.getTime())/864E5)},format:function(b,c){c=c||"yyyy-MM-dd HH:mm:ss";b=b||new d;var e=b.getHours(),g=Math.floor((b.getMonth()+3)/3),e={"y+":b.getFullYear(),"M+":b.getMonth()+1,"d+":b.getDate(),"h+":0==e%12?12:e%12,"H+":e,"m+":b.getMinutes(),"s+":b.getSeconds(),"w+":a.getWeek(b),"q+":g,"Q+":["\u4e00","\u4e8c","\u4e09","\u56db"][g-1],"S+":b.getMilliseconds()},f;for(f in e)RegExp("("+f+")").test(c)&&(g=RegExp.$1.length,c=c.replace(RegExp.$1,1==g?e[f]:("00"+
e[f]).slice(-g)));return c},parse:function(b,a){for(var e=(a||"yyyy-MM-dd HH:mm:ss").match(/[a-zA-Z]+/g),g=b.match(/\d+/g),f=new d,h=0;h<g.length;h++){var k=e[h],j=parseInt(g[h]);switch(k){case "yyyy":f.setFullYear(j);break;case "MM":f.setMonth(j-1);break;case "dd":f.setDate(j);break;case "HH":f.setHours(j);break;case "mm":f.setMinutes(j);break;case "ss":f.setSeconds(j);break;case "SS":f.setMilliseconds(j)}}return f}};return a});
handy.add("Browser",["Object"],function(d){var a={},b={};d.Object.genMethod(b,"ie firefox chrome safari opera windows linux mac trident webkit gecko presto sogou maxthon tt theWorld is360 flash".split(" "),function(b){return function(c){var e=a[b];return!c&&"string"===typeof e?parseInt(e):e}});d=window.navigator.userAgent;var c;(c=d.match(/MSIE ([\d.]+)/))?a.ie=c[1]:(c=d.match(/Firefox\/([\d.]+)/))?a.firefox=c[1]:(c=d.match(/Chrome\/([\d.]+)/))?a.chrome=c[1]:(c=d.match(/Opera.([\d.]+)/))?a.opera=
c[1]:(c=d.match(/Version\/([\d.]+).*Safari/))?a.safari=c[1]:0;/windows|win32/i.test(d)?a.windows=!0:/linux/i.test(d)?a.linux=!0:/macintosh/i.test(d)?a.mac=!0:0;/trident/i.test(d)?a.trident=!0:/webkit/i.test(d)?a.webkit=!0:/gecko/i.test(d)?a.gecko=!0:/presto/i.test(d)?a.presto=!0:0;/MetaSr/i.test(d)?a.sogou=!0:/Maxthon/i.test(d)?a.maxthon=!0:/TencentTraveler/i.test(d)?a.tt=!0:/TheWorld/i.test(d)?a.theWorld=!0:/360[S|E]E/i.test(d)?a.is360=!0:0;var e;try{if(a.ie){var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
g&&(e=g.getVariable("$version").split(" ")[1])}else if(navigator.plugins&&0<navigator.plugins.length&&(g=navigator.plugins["Shockwave Flash"])){var f=g.description.split(" ");c=0;for(var h=f.length;c<h;c++)if(0<parseInt(f[c])){e=f[c];break}}}catch(k){}a.flash=e?e:null;return b});
handy.add("String",function(){var d={stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},escapeHTML:function(a){var b=document.createElement("div");a=document.createTextNode(a);b.appendChild(a);return b.innerHTML},unescapeHTML:function(a){var b=document.createElement("div");b.innerHTML=d.stripTags(a);return b.childNodes[0].nodeValue},decodeHTML:function(a){a=a.replace(/&lt;/gi,"<");a=a.replace(/&gt;/gi,">");a=a.replace(/&quot;/gi,'"');a=a.replace(/&apos;/gi,"'");a=a.replace(/<\/?br>/gi,"\n");
a=a.replace(/&amp;/gi,"&");return a=a.replace(/&nbsp;/gi," ")},encodeHTML:function(a){a=a.replace(/&/gi,"&amp;");a=a.replace(/</gi,"&lt;");a=a.replace(/>/gi,"&gt;");a=a.replace(/\"/gi,"&quot;");a=a.replace(/\'/gi,"&apos;");a=a.replace(/\n/gi,"</br>");return a=a.replace(/ /gi,"&nbsp;")},trim:function(a){return a=a.replace(/(^(\s|\u3000)+)|((\s|\u3000)+$)/g,"")},check:function(a,b){b||(b=/[,%\'\"\/\\;|\<\>\^]/);return-1<a.search(b)},len:function(a){return a.replace(/[^\x00-\xff]/g,"**").length},left:function(a,
b,c){if(d.len(a)>b){!0===c?c=2:0<c||(c=0);var e=0,g=0;for(b-=c;g<b;)255<a.charCodeAt(e)?g+=2:g++,e++;a=a.substring(0,e);for(e=0;e<c;e++)a+="."}return a},isNumber:function(a){return 0==a.search(/^\d+$/g)},hasChn:function(a){return/[\u4E00-\u9FA5]+/.test(a)},isChn:function(a){return/^[\u4E00-\u9FA5]+$/.test(a)},addParam:function(a,b){b&&(a+=(-1<a.indexOf("?")?"&":"?")+b);return a}};return d});
handy.add("Cookie",function(){return{get:function(d,a){var b=d+"=",c="",e=document.cookie;if(0<e.length){var g=e.indexOf(b);-1!=g&&(g+=b.length,b=e.indexOf(";",g),-1==b&&(b=e.length),c=e.substring(g,b),a||(c=unescape(c)))}return c},set:function(d,a,b){var c=[];void 0!=d&&void 0!=a&&c.push(d+"="+escape(a));b&&(void 0!=b.path&&c.push("path="+b.path),void 0!=b.domain&&c.push("domain="+b.domain),void 0!=b.expires&&c.push("expires="+b.expires),b.secure&&c.push("secure"));document.cookie=c.join(";")},del:function(d){var a=
new Date;a.setTime(a.getTime()-1);document.cookie=d+"=;expires="+a.toGMTString()}}});handy.add("Util",function(){var d=0;return{isWindow:function(a){return null!=a&&a==a.window},getUuid:function(){return d++},getHash:function(){return top.location.hash.replace(/\?.*/,"")},setHash:function(a){a=top.location.hash.replace(/#[^\?]*/,a);return top.location.hash=a}}});
handy.add("Function",["Object"],function(d){return{bind:function(a,b,c){var e=Array.prototype.slice.call(arguments,2);return function(){Array.prototype.push.apply(e,arguments);return a.apply(b,e)}},intercept:function(a,b,c,e){c=c||window;e=e||c||window;if(d.Object.isFunction(b))return function(){var d=arguments;e.target=c;e.method=a;return!1!=b.apply(e,d)?a.apply(c,d):null}}}});
handy.add("Debug",["Json"],function(){function d(b,a,e){e=e||"log";if(a||this.showInPage){var d=top.document;(a=d.getElementById("debugDiv"))?a.style.display="block":(a=d.createElement("DIV"),a.id="debugDiv",a.innerHTML='<a href="javascript:void(0)" onclick="this.parentNode.style.display=\'none\'">\u5173\u95ed</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.getElementsByTagName(\'DIV\')[0].innerHTML=\'\';">\u6e05\u7a7a</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.style.height=\''+
d.body.offsetHeight+'px\';">\u5168\u5c4f</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.style.height=\'100px\';">\u6062\u590d</a><div></div>',a.style.position="absolute",a.style.width=d.body.offsetWidth-20+"px",a.style.left=0,a.style.top=0,a.style.right=0,a.style.height="100px",a.style.backgroundColor="#aaa",a.style.fontSize="12px",a.style.padding="10px",a.style.overflow="auto",a.style.zIndex=999,d.body.appendChild(a));d=d.createElement("DIV");d.innerHTML=e+":"+JSON.stringify(b,null,
"<br/>");a.getElementsByTagName("DIV")[0].innerHTML=d.innerHTML}try{console[e](b)}catch(f){}}var a={level:0,LOG_LEVEL:1,INFO_LEVEL:2,WARN_LEVEL:3,ERROR_LEVEL:4,DEBUG_LEVEL:5,showInPage:!1,log:function(b,a){this.level>this.LOG_LEVEL||d(b,!!a,"log")},info:function(b,a){this.level>this.INFO_LEVEL||d(b,!!a,"info")},warn:function(b,a){this.level>this.WARN_LEVEL||d(b,!!a,"warn")},error:function(a,c){this.level>this.ERROR_LEVEL||d(a,!!c,"error")},time:function(b,c,e){this.level>this.INFO_LEVEL||(c?d((b||
"")+", \u6d88\u8017\u65f6\u95f4:"+((new Date).getTime()-(a.lastTime||0)),!!e):a.lastTime=(new Date).getTime())},debug:function(a){if(!(this.level>this.DEBUG_LEVEL)&&("undefined"==typeof a||a()))debugger}};return a});
handy.add("Loader",["Debug","Object","Function"],function(d){function a(a){function b(a){return/\.(css|js)$/.test(a)?k[a]&&"loaded"==k[a].status:d.Object.namespace(a)}if("string"==typeof a)return b(a);for(var c=[],e=0,f=a.length;e<f;e++){var g=b(a[e]);if(g)c.push(g);else return!1}return c}function b(a,b){function e(){e.isCalled||(e.isCalled=!0,clearTimeout(m),b())}if("SCRIPT"===a.nodeName){var f=a,h=e;f.onload=f.onerror=f.onreadystatechange=function(){if(/loaded|complete|undefined/.test(f.readyState)){f.onload=
f.onerror=f.onreadystatechange=null;if(f.parentNode){try{if(f.clearAttributes)f.clearAttributes();else for(var a in f)delete f[a]}catch(b){}g.removeChild(f)}f=void 0;setTimeout(h,0)}}}else{var k=e;window.hasOwnProperty("attachEvent")?a.attachEvent("onload",k):setTimeout(function(){c(a,k)},0)}var m=setTimeout(function(){d.Debug.error("Time is out:",a.src);e()},j.timeout)}function c(a,b){if(!b.isCalled){var e;if(f)a.sheet&&(e=!0);else if(a.sheet)try{a.sheet.cssRules&&(e=!0)}catch(d){if("SecurityError"===
d.name||"NS_ERROR_DOM_SECURITY_ERR"===d.name)e=!0}setTimeout(function(){e?b():c(a,b)},1)}}function e(b){j.showLoading(!1);k[b].status="loaded";for(var c=h.length-1;0<=c;c--){var e=h[c],f=a(e.deps);f&&(e.callback.apply(null,f),h.splice(c,1))}j.traceLog&&d.Debug.info("Response: "+b)}var g=document.head||document.getElementsByTagName("head")[0]||document.documentElement,f=navigator.userAgent.indexOf("AppleWebKit"),h=[],k={},j={traceLog:!0,rootPath:{handy:"http://localhost:8081/handy/src","com.sport":"http://localhost:8082/sportapp/www/js"},
timeout:15E3,skinName:"skin",urlMap:{},showLoading:function(){},define:function(a,b,c){2==arguments.length&&(c=b,b=[]);j.require(b,function(){var e;if("function"==typeof c)try{e=c.apply(null,arguments)}catch(f){d.Debug.error(a+":factory define error:"+f.message);return}else e=c;var g=k[a];g.deps=b;g.factory=c;g.resource=e;d.Object.namespace(a,e)})},require:function(c,f){for(var r="string"==typeof c?[c]:c,u=[],s=[],n=!0,m=0,q=r.length;m<q;m++){var l=r[m],p=a(l);p?s.push(p):(u.push(l),n&&(n=!1,h.push({deps:r,
callback:f})),j.traceLog&&d.Debug.info("Resource not found: "+l))}if(0==u.length)return f&&f.apply(null,s),0==s.length?s[0]:s;n=!1;r=0;for(s=u.length;r<s;r++)if(m=u[r],!k[m]){n=m;l=j.urlMap[n];if(!l){q="";l=j.rootPath;if("string"==typeof l)q=l;else for(p in p=void 0,l)0==n.indexOf(p)&&(q=l[p],n=n.replace(p,""));l=/.css$/.test(n)?0==n.indexOf("/")?n:"/css/"+n:/.js$/.test(n)?"/"+n:"/"+n.replace(/\./g,"/")+".js";l=q+l}n=!0;k[m]={id:m,status:"loading"};q=d.Function.bind(e,null,m);if(/.css$/.test(l))a:{m=
l;l=g.getElementsByTagName("link");for(p=0;p<l.length;p++){var v=l[p].href;!j.skinNode&&0<=v.indexOf(j.skinName)&&(j.skinNode=l[p]);if(0<=v.indexOf(m)||0<=m.indexOf(v))break a}l=document.createElement("link");l.rel="stylesheet";l.href=m;b(l,q);g.insertBefore(l,j.skinNode)}else m=l,l=document.createElement("script"),l.async="async",l.src=m,l.type="text/javascript",b(l,q),g.appendChild(l)}n&&j.showLoading(!0)}};return j});
handy.add("Template",function(){return{simpleReg:/<%=this\.([^%>]+)%>/g,compile:function(d,a){return d.replace(this.simpleReg,function(b,c){return a&&a[c]||""})}}});
handy.add("HashChange",function(d){function a(a){if(a!=f){var b=j.listeners,c;for(c in b)b[c](a);f=a}}var b,c=0,e=document,g,f,h=e._nDocMode,k="onhashchange"in window&&(void 0===h||7<h),j={listen:function(h,t){if(!b)if(b=!0,j.listeners={},k)$(window).on("hashchange",function(){a(j.getHash())});else g=$('<iframe tabindex="-1" style="display:none" widht=0 height=0 title="empty" />').appendTo(e.body)[0],f=j.getHash(),j.setHash(f),setInterval(function(){var b=j.getHash();b!=f&&(f=b,a(b))},50);if(t in
j.listeners)throw Error("Duplicate name");t=t||d.expando+ ++c;j.listeners[t]=h;return t},getHash:function(){return d.Util.getHash()},setHash:function(a,b){d.Util.setHash(a);k||g.document.write("<!doctype html><html><body>"+a+"</body></html>");!0!=b&&(f=a)}};return j});
handy.add("Support",["Browser"],function(d){if(6==d.Browser.ie())try{document.execCommand("BackgroundImageCache",!1,!0)}catch(a){}return{}})(function(d){$H=d.noConflict();$HO=$H.Object;$HS=$H.String;$Define=$H.Loader.define;$Require=$H.Loader.require;$G={config:{}}})(handy)(function(){var d=$HO.createClass("handy.component.Component");$HO.extend(d,{_expando:"_handy_",_template:'<div id="<%=this.id%>"><%=this.html%></div>',render:function(a){return new this(a)},html:function(a,b){a.notListener=!0;
a.notRender=!0;var c=new this(a);b&&b.children.push(c);return c.getHtml()}});$HO.extend(d.prototype,{ctype:"component",initialize:function(a){var b=this;b.doConfig(a);b.initHtml(a);var c=b.chtml,c=-1<c.indexOf("<%=this.id%>")?c:d._template,c=b.html=$H.Template.compile(c,{id:b.id,html:b.chtml});!0!=a.notRender&&(b.renderTo.append(c),b.container=$("#"+b.id));!0!=a.notListener&&(b.delayInitListener?setTimeout(function(){b.initListener()}):b.initListener())},doConfig:function(a){var b=this.settings={};
$HO.extend(b,a);this.renderTo=b.renderTo?$(b.renderTo):$(document.body);this.children=[];this.id=d._expando+this.constructor.ctype+"_"+$H.Util.getUuid()},getId:function(){},initHtml:function(){},getHtml:function(){return this.html},initListener:function(){this.container=this.container||$("#"+this.id);for(var a=this.children,b=0,c=a.length;b<c;b++)a.settings.notListener&&a.initListener()},find:function(a){return this.container.find(a)},hide:function(){this.container.hide()},destroy:function(){this.container.remove()}})})();
(function(){var d=$HO.createClass("handy.component.TreeMenu");$HO.inherit(d,$HO.namespace("handy.component.Component"),{initialize:function(a){d.superClass.initialize.call(this,a)},initHtml:function(a){this.chtml=this.createMenu(a.data).join("")},createMenu:function(a,b,c){var e=!b;b=b||[];c=c||0;b.push('<ul class="menu-tree"',e?"":' style="display:none"',">");for(var e=0,d=a.length;e<d;e++){var f=a[e],h=!!f.childMenus;b.push('<li><a class="menu-tree-item">','<span class="gi ',h?"gi-plus":"gi-minus",
'"',c?'style="margin-left:'+c+'px"':"","></span>",f.menuName,"</a>");h&&this.createMenu(f.childMenus,b,c+20);b.push("</li>")}b.push("</ul>");return b},initListener:function(){d.superClass.initListener.call(this);this.container.delegate(".gi","click",function(){var a=$(this),b=a.parent().next("ul");0!=b.length&&(-1<a.attr("class").indexOf("gi-plus")?(a.attr("class","gi gi-minus"),b.show()):(a.attr("class","gi gi-plus"),b.hide()))})}});$HO.extend(d,{ctype:"treemenu"})})();
(function(){var d=$HO.createClass("handy.component.AccordionMenu");$HO.inherit(d,$HO.namespace("handy.component.Component"),{initialize:function(a){d.superClass.initialize.call(this,a);this.setSize()},doConfig:function(a){d.superClass.doConfig.call(this,a)},initHtml:function(a){a=a.data;for(var b=['<ul class="menu-accordion" style="height:',this.settings.height,'px">'],c=0,e=a.length;c<e;c++){var d=a[c],f=0<d.childMenus.length?$H.TreeMenu.html({data:d.childMenus}):"";b.push("<li>",'<a href="javascript:;" data-url="',
d.menuUrl,'" class="menu-accordion-item"><span class="gi ',d.icon||"gi-Operation-maintenance",'"></span>',d.menuName,"</a>",'<div class="js-content" style="display:none;','">',f,"</div>","</li>")}b.push("</ul>");this.chtml=b.join("")},setSize:function(a){var b=this.settings;a=(this.height=a||b.height||this.renderTo.height())-43*b.data.length;this.container.find(".js-content").height(a)},open:function(a){this.container.find(".menu-accordion-item[data-url='"+a.menuUrl+"']").click()},initListener:function(){d.superClass.initListener.call(this);
var a=this.container,b=this.settings;a.delegate(".menu-accordion-item","click",function(){var c=$(this),e=b.itemClick;e&&e(c);e=c.next(".js-content");-1<c.attr("class").indexOf("js-open")||(a.find(".js-open").removeClass("js-open accordion-item-active").next(".js-content").hide(),c.addClass("js-open accordion-item-active"),0<e.children().length&&e.show())})}});$HO.extend(d,{ctype:"accordionMenu"})})();
(function(){var d=$HO.createClass("handy.component.TipsBox");$HO.inherit(d,$HO.namespace("handy.component.Component"),{delayInitListener:!0,initialize:function(a){d.current&&d.current.destroy();d.current=this;d.superClass.initialize.call(this,a);this.show()},doConfig:function(a){d.superClass.doConfig.call(this,a)},initHtml:function(a){var b=['<div id="<%=this.id%>" class="c-tipsbox ',a.extClass||"",'" style="',a.width?"width:"+a.width+"px":"",'">','<div class="w-triangle-top">','<div class="w-triangle-top w-triangle-inner"></div>',
"</div>"];a.noTitle||b.push('<div class="c-tipsbox-header">',a.title,"</div>");b.push('<div class="c-tipsbox-content">',a.content,"</div>",'<div class="w-triangle-bottom" style="display:none">','<div class="w-triangle-bottom w-triangle-inner"></div>',"</div>","</div>");this.chtml=b.join("")},show:function(){var a=this.settings.trigger,b=a.position(),c=this.container,e=document,d=c.width(),f=c.height(),h=e.documentElement.offsetWidth||e.body.offsetWidth,e=e.documentElement.clientHeight||e.body.clientHeight+
document.body.scrollTop,k=a.width(),a=a.height(),k=b.left+k/2,b=b.top,j="rightBottom",e=b+a+f>e;k+d>h?j=e?"leftTop":"leftBottom":e&&(j="rightTop");h=this.settings.position||j;"leftBottom"==h?(b=b+a+10,k-=d,c.find(".w-triangle-top").css({right:"10px"})):"rightBottom"==h?(b=b+a+10,k-=20):"leftTop"==h?(b-=f,k-=d,c.find(".w-triangle-top").hide(),c.find(".w-triangle-bottom").css({right:"10px"}).show()):"rightTop"==h&&(b=b-f-12,k-=20,c.find(".w-triangle-top").hide(),c.find(".w-triangle-bottom").show());
c.css({left:k+"px",top:b-(this.settings.offsetTop||0)+"px"})},position:function(){},hide:function(){this.container.hide()},initListener:function(){var a=this;d.superClass.initListener.call(a);var b=!1;a.container.click(function(){b=!0});$(document).click(function(){b||a.hide();b=!1})}});$HO.extend(d,{ctype:"TipsBox"})})();
$Define("handy.module.AbstractModule","handy.base.Object",function(d){var a=d.createClass();d.extend(a.prototype,{isLoaded:!1,isActived:!1,useCache:!0,cache:function(){},init:function(){},beforeRender:function(){},render:function(){},afterRender:function(){},reset:function(){},exit:function(){return!0},initialize:function(a){this.conf=a}});return a});$Define("handy.module.AbstractNavigator","handy.base.Object",function(d){var a=d.createClass();d.extend(a.prototype,{navigate:function(){}});return a});
$Define("handy.module.History",["handy.base.Object","handy.base.HashChange"],function(d,a){var b=d.createClass(),c=0;d.extend(b.prototype,{initialize:function(b){this.key=b||"handy";this.states=[];a.listen(this.stateChange.bind(this))},saveState:function(b){var d=this.key+ ++c;this.states.push(d);this.states[d]=b;a.setHash("#"+JSON.stringify({hKey:d,param:b.param}))},getCurrentState:function(){try{var b=JSON.parse(a.getHash().replace("#",""));return this.states[b.hKey]}catch(c){$H.Debug.warn("History.getCurrentState:parse hash error:"+
c.message)}},stateChange:function(){var a=this.getCurrentState();if(a)a.onStateChange(a.param)}});return b});
$Define("handy.module.ModuleManager",["handy.base.Function","handy.module.History"],function(d,a){var b=$HO.createClass();$HO.extend(b.prototype,{initialize:function(b){b&&(this.conf=b,$HO.extend(this,b),this.container=b.container?$(b.container):$(document.body));this.defModPackage+=".";this.history=new a;this.modules={}},go:function(a){var b=a.modName,g=this.currentMod,f=this.modules,h=f[g];if(g==b)h.reset();else{if(h&&!h.exit())return!1;(b=f[b])&&b.useCache?(this.showMod(b),b.cache(a)):this.createMod(a);
this.history.saveState({onStateChange:d.bind(this.go,this),param:a})}},createMod:function(a){var b=this,d=a.modName;$Require(b.defModPackage+d,function(f){f=new f;f.initParam=a;f.init(a);f.beforeRender();var h=b.getModWrapper(d);f.wrapper=h;var k=f.container=f.container?$(f.container):b.container;f.getHtml&&(h.html(f.getHtml()),k.append(h));f.render(h);b.showMod(f);f.afterRender();b.modules[d]=f})},getModWrapper:function(a){a="modWrapper_"+a;var b=$("#"+a);0==b.length&&(b=$('<div id="'+a+'"></div>'));
return b},showMod:function(a){if(this.navigator&&this.navigator.navigate(a,this))return!1;this.hideAll();a.wrapper.show();a.isActive=!0},hideAll:function(){var a=this.modules,b;for(b in a)a[b].wrapper.hide(),a[b].isActive=!1}});return b});
