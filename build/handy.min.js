/* Handy v1.0.0-dev | 2014-01-27 | zhengyinhui100@gmail.com */
(function(){var e=window.handy,a=window.$,b=window.handy=window.$=function(){};b.version="1.0.0";b.expando="handy"+(b.version+Math.random()).replace(/\D/g,"");b.add=function(d,c,f){f||(f=c,c=null);if(!c||!b.Loader){b.base||(b.base={});var a=[];if(c)if("string"==typeof c)a.push(b.base.Object.namespace(c));else for(var e=0;e<c.length;e++)a.push(b.base.Object.namespace(c[e]));a.push(b);b.base[d]=b[d]=f.apply(window,a)}else b.Loader.require(c,function(){Array.prototype.push.call(arguments,b);b.base[d]=
b[d]=f.apply(window,arguments)})};b.noConflict=function(d){window.$===b&&(window.$=a);d&&window.handy===b&&(window.handy=e);return b};b.noop=function(){}})();
handy.add("Json",function(){var e;e||(e={});(function(){function a(c){return 10>c?"0"+c:c}function b(c){f.lastIndex=0;return f.test(c)?'"'+c.replace(f,function(c){var b=j[c];return"string"===typeof b?b:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function d(c,f){var a,e,j,x,u=g,r,l=f[c];l&&("object"===typeof l&&"function"===typeof l.toJSON)&&(l=l.toJSON(c));"function"===typeof h&&(l=h.call(f,c,l));switch(typeof l){case "string":return b(l);case "number":return isFinite(l)?
String(l):"null";case "boolean":case "null":return String(l);case "object":if(!l)return"null";g+=k;r=[];if("[object Array]"===Object.prototype.toString.apply(l)){x=l.length;for(a=0;a<x;a+=1)r[a]=d(a,l)||"null";j=0===r.length?"[]":g?"[\n"+g+r.join(",\n"+g)+"\n"+u+"]":"["+r.join(",")+"]";g=u;return j}if(h&&"object"===typeof h){x=h.length;for(a=0;a<x;a+=1)"string"===typeof h[a]&&(e=h[a],(j=d(e,l))&&r.push(b(e)+(g?": ":":")+j))}else for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(j=d(e,l))&&r.push(b(e)+
(g?": ":":")+j);j=0===r.length?"{}":g?"{\n"+g+r.join(",\n"+g)+"\n"+u+"}":"{"+r.join(",")+"}";g=u;return j}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,k,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!==typeof e.stringify&&(e.stringify=function(c,b,a){var f;k=g="";if("number"===typeof a)for(f=0;f<a;f+=1)k+=" ";else"string"===typeof a&&(k=a);if((h=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return d("",{"":c})});"function"!==
typeof e.parse&&(e.parse=function(b,a){function f(c,b){var d,g,e=c[b];if(e&&"object"===typeof e)for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&(g=f(e,d),void 0!==g?e[d]=g:delete e[d]);return a.call(c,b,e)}var d;b=String(b);c.lastIndex=0;c.test(b)&&(b=b.replace(c,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return d=eval("("+b+")"),"function"===typeof a?f({"":d},""):d;throw new SyntaxError("JSON.parse");})})();return e});
handy.add("Object",function(){function e(){var b=window.navigator.userAgent.match(/MSIE ([\d.]+)/);return b&&9>parseInt(b[0])?function(b,c,a){var g=[];if(b.length){c=c||0;for(a=a||b.length;c<a;c++)g.push(b[c])}return g}:function(b,c,a){return Array.prototype.slice.call(b,c||0,a||b.length)}}var a={_alias:{b:"handy.base",c:"handy.component",m:"handy.module"},namespace:function(b,d){var c=null,f,g,e,j;b=a.alias(b);g=b.split(".");c=g[0];c=(e=2==arguments.length)?eval("(function(){if (typeof "+c+' == "undefined"){'+
c+" = {};}return "+c+";})()"):eval("(function(){if (typeof "+c+' != "undefined")return '+c+";})()");f=1;for(j=g.length;f<j;++f){if(f==j-1&&e)c[g[f]]=d;else if(e||c&&c[g[f]])c[g[f]]=c[g[f]]||{};else return;c=c[g[f]]}return c},alias:function(b,d){var c=a._alias;if(d)c[b]?$D.error("\u522b\u540d\u5df2\u88ab\u4f7f\u7528"+b+":"+c[b]):c[b]=d;else{if(b){var f=b,g=b.length-1;do{if(c[f])return c[f]+b.substring(g);g=f.lastIndexOf(".")}while(0<g&&(f=f.substring(0,g)));return b}return c}},createClass:function(b){var d=
function(){var c,b;c=this.constructor==d?this:arguments.callee;if(b=c.initialize)return b.apply(c,arguments)};d.prototype.callSuper=function(){var c,b=arguments.callee.caller.$name;if(c=this.constructor.superProt)if(c=c[b],a.isFunction(c))return c.apply(this,arguments)};b&&this.namespace(b,d);return d},extend:function(b,d,c){var f=c?c.notCover:!1;c=c?c.notClone:!1;var g=!!b.callSuper,e;for(e in d){var j=b.hasOwnProperty(e),h=!0===f?j:!1;a.isArray(f)?h=a.contains(f,e)&&j:a.isFunction(f)&&(h=f(e));
h||(j=c?d[e]:a.clone(d[e]),g&&a.isFunction(j)&&(j.$name=e),b[e]=j)}return b},mix:function(b,d,c,f){b.superProt||(b.superProt={});for(var g in d)b.superProt[g]=a.isFunction(d[g])?b.superProt[g]?function(c,b){return function(){b.apply(this,arguments);d[c].apply(this,arguments)}}(g,b.superProt[g]):d[g]:d[g],b[g]||(b[g]=d[g]);c&&a.extend(b,c);d.toString!=d.constructor.prototype.toString&&(b.superProt.toString=function(){d.toString.apply(b,arguments)});f&&(b.prototype&&d.prototype)&&a.inherit(b,d,null,
f);return b},inherit:function(b,d,c,f,g){var e=function(){};e.prototype=d.prototype;g=g||{notCover:!0};a.extend(b,d,g);b.prototype=new e;b.prototype.constructor=b;b.superClass=d;b.superProt=d.prototype;if(d._onInherit)try{d._onInherit(b)}catch(j){}c&&a.extend(b,c);f&&a.extend(b.prototype,f)},isFunction:function(b){return"[object Function]"===window.Object.prototype.toString.call(b)},isArray:function(b){return"[object Array]"===window.Object.prototype.toString.call(b)},equals:function(b,d){if(typeof b==
typeof d){if("object"!=typeof b)return b===d;if(b===d)return!0;if(a.isArray(b)&&a.isArray(d)){if(b.length!=d.length)return!1;for(var c=0,f=b.length;c<f;c++)if(!a.equals(b[c],d[c]))return!1;return!0}if(!a.isArray(b)&&!a.isArray(d)){if(a.count(b)!=a.count(d))return!1;for(c in b)if(void 0==d[c]||!a.equals(b[c],d[c]))return!1;return!0}}return!1},clone:function(b){if(null==b||"object"!=typeof b)return b;var d=b.constructor;if(d!=window.Object&&d!=window.Array)return b;if(d==window.Date||d==window.RegExp||
d==window.Function||d==window.String||d==window.Number||d==window.Boolean)return new d(b);try{var c=new d,f;for(f in b)c[f]=a.clone(b[f]);return c}catch(g){return b}},isEmpty:function(b){if(a.isArray(b))return 0==b.length;for(var d in b)return!1;return!0},each:function(b,d,c){var f,g=0,e=b.length,j=void 0===e||a.isFunction(b);if(c)if(j)for(f in b){if(!1===d.apply(b[f],c))break}else for(;g<e&&!1!==d.apply(b[g++],c););else if(j)for(f in b){if(!1===d.call(b[f],f,b[f]))break}else for(;g<e&&!1!==d.call(b[g],
g,b[g++]););return b},contains:function(b,d){var c=!1;a.each(b,function(b,g){if(a.equals(g,d))return c=!0,!1});return c},largeThan:function(b,d){if("object"==typeof b&&"object"==typeof d){var c=!0;a.each(d,function(f){if(!a.equals(d[f],b[f]))return c=!1});return c}},count:function(b){if(a.isArray(b))return b.length;var d=0,c;for(c in b)d++;return d},toArray:e,generateMethod:function(b,d,c){d=a.isArray(d)?d:d.split(",");for(var f=0;f<d.length;f++){var g=d[f];b[g]=c(g)}}},e=e();return a});
handy.add("Browser","handy.base.Object",function(e){var a={},b={};e.generateMethod(b,"ie firefox chrome safari opera windows linux mac trident webkit gecko presto sogou maxthon tt theWorld is360 mobile android ios iPhone iPod iPad flash".split(" "),function(c){return function(b){var d=a[c];return!b&&"string"===typeof d&&/^[\d\.]+$/.test(d)?parseInt(d):d}});e=window.navigator.userAgent;var d;(d=e.match(/MSIE ([\d.]+)/))?a.ie=d[1]:(d=e.match(/Firefox\/([\d.]+)/))?a.firefox=d[1]:(d=e.match(/Chrome\/([\d.]+)/))?
a.chrome=d[1]:(d=e.match(/Opera.([\d.]+)/))?a.opera=d[1]:(d=e.match(/Version\/([\d.]+).*Safari/))?a.safari=d[1]:0;/windows|win32/i.test(e)?a.windows=!0:/linux/i.test(e)?a.linux=!0:/macintosh/i.test(e)?a.mac=!0:0;/trident/i.test(e)?a.trident=!0:/webkit/i.test(e)?a.webkit=!0:/gecko/i.test(e)?a.gecko=!0:/presto/i.test(e)?a.presto=!0:0;/MetaSr/i.test(e)?a.sogou=!0:/Maxthon/i.test(e)?a.maxthon=!0:/TencentTraveler/i.test(e)?a.tt=!0:/TheWorld/i.test(e)?a.theWorld=!0:/360[S|E]E/i.test(e)?a.is360=!0:0;var c;
if((c=e.match(/AppleWebKit\/([\d.]*)/))&&c[1])if(/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)){a.mobile="ios";if((c=e.match(/OS ([^\s]*)/))&&c[1])a.ios=c[1].replace("_",".");if((c=e.match(/iPad|iPod|iPhone/))&&c[0])a[c[0].toLowerCase()]=a.ios}else if(/ Android/i.test(e)){if(/Mobile/.test(e)&&(a.mobile="android"),(c=e.match(/Android ([^\s]*);/))&&c[1])a.android=c[1]}else if(c=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))a.mobile=c[0].toLowerCase();var f;try{if(a.ie){var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
g&&(f=g.getVariable("$version").split(" ")[1])}else if(navigator.plugins&&0<navigator.plugins.length&&(g=navigator.plugins["Shockwave Flash"])){var k=g.description.split(" ");d=0;for(var j=k.length;d<j;d++)if(0<parseInt(k[d])){f=k[d];break}}}catch(h){}a.flash=f?f:null;return b});
handy.add("Debug",["handy.base.Json","handy.base.Browser"],function(e,a,b){function d(a,d,e){e=e||"log";if(d||c.showInPage){var j=b.expando+"debugDiv",h=top.document;(d=h.getElementById(j))?d.style.display="block":(d=h.createElement("DIV"),d.id=j,d.innerHTML='<a href="javascript:void(0)" onclick="this.parentNode.style.display=\'none\'">\u5173\u95ed</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.getElementsByTagName(\'DIV\')[0].innerHTML=\'\';">\u6e05\u7a7a</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.style.height=\''+
h.body.offsetHeight+'px\';">\u5168\u5c4f</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.style.height=\'100px\';">\u6536\u8d77</a><div style="padding-top:5px"></div>',d.style.position="absolute",d.style.width=h.body.offsetWidth-20+"px",d.style.left=0,d.style.top=0,d.style.right=0,d.style.height="100px",d.style.backgroundColor="#aaa",d.style.fontSize="12px",d.style.padding="10px",d.style.overflow="auto",d.style.zIndex=9999999,d.style.opacity=0.5,d.style.filter="alpha(opacity=50)",h.body.appendChild(d));
j=h.createElement("DIV");j.innerHTML=e+" : "+JSON.stringify(a,null,"<br/>");d=d.getElementsByTagName("DIV")[0];d.innerHTML=d.innerHTML+j.innerHTML+"<br/>"}try{console[e](a)}catch(n){}}var c={level:0,LOG_LEVEL:1,INFO_LEVEL:2,WARN_LEVEL:3,ERROR_LEVEL:4,DEBUG_LEVEL:5,log:function(b,a){c.level>c.LOG_LEVEL||d(b,!!a,"log")},info:function(b,a){this.level>c.INFO_LEVEL||d(b,!!a,"info")},warn:function(b,a){c.level>c.WARN_LEVEL||d(b,!!a,"warn")},error:function(b,a){c.level>c.ERROR_LEVEL||d(b,!!a,"error")},time:function(b,
a,e){c.level>c.INFO_LEVEL||(a?d((b||"")+", \u6d88\u8017\u65f6\u95f4:"+((new Date).getTime()-(c.lastTime||0)),!!e):c.lastTime=(new Date).getTime())},debug:function(b){if(!(c.level>c.DEBUG_LEVEL)&&!1!==b)debugger}};return c});
handy.add("Function",function(e){return{bind:function(a,b,d){var c=Array.prototype.slice.call(arguments,2);return function(){Array.prototype.push.apply(c,arguments);return a.apply(b,c)}},intercept:function(a,b,d,c){return e.Object.isFunction(a)&&e.Object.isFunction(b)?function(){var f=d||this,e={},k=arguments;e.scope=c;e.target=f;e.method=a;return!1!=b.apply(e,k)?a.apply(f,k):!1}:a}}});
handy.add("Loader",["handy.base.Debug","handy.base.Object","handy.base.Function"],function(e,a,b,d){function c(c){function b(c){return/\.(css|js)$/.test(c)?q[c]&&"loaded"==q[c].status:p.urlMap&&p.urlMap[c]?p.urlMap[c].chkExist():a.namespace(c)}if("string"==typeof c)return b(c);for(var d=[],f=0,e=c.length;f<e;f++){var g=b(c[f]);if(g)d.push(g);else return!1}return d}function f(c,b){function d(){d.isCalled||(d.isCalled=!0,clearTimeout(h),b())}if("SCRIPT"===c.nodeName){var a=c,f=d;a.onload=a.onerror=
a.onreadystatechange=function(){/loaded|complete|undefined/.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=null,j.removeChild(a),a=null,setTimeout(f,0))}}else{var k=d;window.hasOwnProperty("attachEvent")?c.attachEvent("onload",k):setTimeout(function(){g(c,k)},0)}var h=setTimeout(function(){e.error("Time is out:",c.src);d()},p.timeout)}function g(c,b){if(!b.isCalled){var a;if(h)c.sheet&&(a=!0);else if(c.sheet)try{c.sheet.cssRules&&(a=!0)}catch(d){if("SecurityError"===d.name||"NS_ERROR_DOM_SECURITY_ERR"===
d.name)a=!0}setTimeout(function(){a?b():g(c,b)},1)}}function k(b){p.showLoading(!1);q[b].status="loaded";p.traceLog&&e.info("Loader Response: "+b);for(b=n.length-1;0<=b;b--){var a=n[b],d=c(a.deps);d&&(n.splice(b,1),a.callback.apply(null,d))}}var j=document.head||document.getElementsByTagName("head")[0]||document.documentElement,h=navigator.userAgent.indexOf("AppleWebKit"),n=[],q={},p={traceLog:!0,timeout:15E3,skinName:"skin",showLoading:function(){},define:function(c,b,d){2==arguments.length&&(d=
b,b=[]);p.require(b,function(){var b;if("function"==typeof d)try{b=d.apply(null,arguments)}catch(f){e.error("Loader "+c+":factory define error:"+f.message);return}else b=d;a.namespace(c,b)})},require:function(a,g){for(var h="string"==typeof a?[a]:a,u=[],r=[],l=!0,s=0,v=h.length;s<v;s++){var m=h[s],t=c(m);t?r.push(t):(u.push(m),l&&(l=!1,n.push({deps:h,callback:g})),p.traceLog&&e.info("Resource not found: "+m))}if(0==u.length)return g&&g.apply(null,r),0==r.length?r[0]:r;l=!1;h=0;for(r=u.length;h<r;h++)if(s=
u[h],!q[s]){l=s;m=p.urlMap&&p.urlMap[l]&&p.urlMap[l].url;if(!m){v="";l=d.Object.alias(l);m=p.rootPath;if("string"==typeof m)v=m;else if("object"==typeof m)for(t in t=void 0,m)0==l.indexOf(t)&&(v=m[t],l=l.replace(t,""));else v="";m=/.css$/.test(l)?0==l.indexOf("/")?l:"/css/"+l:/.js$/.test(l)?l:l.replace(/\./g,"/")+".js";0!=m.indexOf("/")&&(m="/"+m);m=v+m}l=!0;q[s]={id:s,status:"loading"};v=b.bind(k,null,s);if(/.css$/.test(m))a:{s=m;m=j.getElementsByTagName("link");for(t=0;t<m.length;t++){var y=m[t].href;
!p.skinNode&&0<=y.indexOf(p.skinName)&&(p.skinNode=m[t]);if(0<=y.indexOf(s)||0<=s.indexOf(y))break a}m=document.createElement("link");m.rel="stylesheet";m.href=s;f(m,v);j.insertBefore(m,p.skinNode);p.traceLog&&e.info("Loader request:"+s)}else s=m,m=document.createElement("script"),m.async="async",m.src=s,m.type="text/javascript",f(m,v),j.appendChild(m),p.traceLog&&e.info("Loader request:"+s)}l&&p.showLoading(!0)}};return p});
handy.add("Listener",function(){var e={};return{add:function(a,b){var d=e[a];d||(d=e[a]=[]);d.push(b)},remove:function(a,b){var d=e[a];if(!d)return!1;if(b)for(var c=0,f=d.length;c<f;c++){if(d[c]==b)return d.splice(c,1),!0}else delete e[a];return!1},fire:function(a,b){var d=e[a];if(!d)return!1;for(var c=Array.prototype.slice.call(arguments,1),f=0,g=d.length;f<g;f++){if(f==g-1)return d[f].apply(null,c);d[f].apply(null,c)}}}});
handy.add("Date",function(){var e=window.Date,a={getWeek:function(b,a){var c=b.getDay();a&&(c=(c+(a%7+7))%7);return"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")[c]},isWeeken:function(b){return 0==b.getDay()||6==b.getDay()},getDaysInMonth:function(b){b=new e(b.getFullYear(),b.getMonth()+1,0);return b.getDate()},getDaysInYear:function(b){var a=new e(b.getFullYear(),0,0);b=new e(b.getFullYear()+1,0,0);return Math.floor((b.getTime()-a.getTime())/864E5)},getDayIndexOfYear:function(b){var a=new e("1/1/"+
b.getFullYear());return Math.ceil((b.getTime()-a.getTime())/864E5)},format:function(b,d){d=d||"yyyy-MM-dd HH:mm:ss";b=b||new e;var c=b.getHours(),f=Math.floor((b.getMonth()+3)/3),c={"y+":b.getFullYear(),"M+":b.getMonth()+1,"d+":b.getDate(),"h+":0==c%12?12:c%12,"H+":c,"m+":b.getMinutes(),"s+":b.getSeconds(),"w+":a.getWeek(b),"q+":f,"Q+":["\u4e00","\u4e8c","\u4e09","\u56db"][f-1],"S+":b.getMilliseconds()},g;for(g in c)RegExp("("+g+")").test(d)&&(f=RegExp.$1.length,d=d.replace(RegExp.$1,1==f?c[g]:("00"+
c[g]).slice(-f)));return d},parse:function(b,a){for(var c=(a||"yyyy-MM-dd HH:mm:ss").match(/[a-zA-Z]+/g),f=b.match(/\d+/g),g=new e,k=0;k<f.length;k++){var j=c[k],h=parseInt(f[k]);switch(j){case "yyyy":g.setFullYear(h);break;case "MM":g.setMonth(h-1);break;case "dd":g.setDate(h);break;case "HH":g.setHours(h);break;case "mm":g.setMinutes(h);break;case "ss":g.setSeconds(h);break;case "SS":g.setMilliseconds(h)}}return g}};return a});
handy.add("String",function(){var e={stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},escapeHTML:function(a){var b=document.createElement("div");a=document.createTextNode(a);b.appendChild(a);return b.innerHTML},unescapeHTML:function(a){var b=document.createElement("div");b.innerHTML=e.stripTags(a);return b.childNodes[0].nodeValue},decodeHTML:function(a){a=a.replace(/&lt;/gi,"<");a=a.replace(/&gt;/gi,">");a=a.replace(/&quot;/gi,'"');a=a.replace(/&apos;/gi,"'");a=a.replace(/<\/?br>/gi,"\n");
a=a.replace(/&amp;/gi,"&");return a=a.replace(/&nbsp;/gi," ")},encodeHTML:function(a){a=a.replace(/&/gi,"&amp;");a=a.replace(/</gi,"&lt;");a=a.replace(/>/gi,"&gt;");a=a.replace(/\"/gi,"&quot;");a=a.replace(/\'/gi,"&apos;");a=a.replace(/\n/gi,"</br>");return a=a.replace(/ /gi,"&nbsp;")},trim:function(a){return a=a.replace(/(^(\s|\u3000)+)|((\s|\u3000)+$)/g,"")},check:function(a,b){b||(b=/[,%\'\"\/\\;|\<\>\^]/);return-1<a.search(b)},len:function(a){return a.replace(/[^\x00-\xff]/g,"**").length},left:function(a,
b,d){if(e.len(a)>b){!0===d?d=2:0<d||(d=0);var c=0,f=0;for(b-=d;f<b;)255<a.charCodeAt(c)?f+=2:f++,c++;a=a.substring(0,c);for(c=0;c<d;c++)a+="."}return a},isNumber:function(a){return 0==a.search(/^\d+$/g)},hasChn:function(a){return/[\u4E00-\u9FA5]+/.test(a)},isChn:function(a){return/^[\u4E00-\u9FA5]+$/.test(a)},addParam:function(a,b){b&&(a+=(-1<a.indexOf("?")?"&":"?")+b);return a}};return e});
handy.add("Cookie",function(){return{get:function(e,a){var b=e+"=",d="",c=document.cookie;if(0<c.length){var f=c.indexOf(b);-1!=f&&(f+=b.length,b=c.indexOf(";",f),-1==b&&(b=c.length),d=c.substring(f,b),a||(d=unescape(d)))}return d},set:function(e,a,b){var d=[];void 0!=e&&void 0!=a&&d.push(e+"="+escape(a));b&&(void 0!=b.path&&d.push("path="+b.path),void 0!=b.domain&&d.push("domain="+b.domain),void 0!=b.expires&&d.push("expires="+b.expires),b.secure&&d.push("secure"));document.cookie=d.join(";")},del:function(e){var a=
new Date;a.setTime(a.getTime()-1);document.cookie=e+"=;expires="+a.toGMTString()}}});handy.add("Util",function(){var e=0;return{isWindow:function(a){return null!=a&&a==a.window},getUuid:function(){return e++},getHash:function(){return top.location.hash.replace(/\?.*/,"")},setHash:function(a){var b=top.location.hash;0<=b.indexOf("#")&&(a=b.replace(/#[^\?]*/,a));top.location.hash=a}}});
handy.add("Template",function(e){var a={},b=/^=/,d="".trim,c={openTag:"<%",closeTag:"%>",_add:function(c){return d?"$r+="+c+";\n":"$r.push("+c+");\n"},_parseHtml:function(b){b=b.replace(/("|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n");return c._add('"'+b+'"')},_parseScript:function(a){a=a.replace(/this/g,"$data");0==a.indexOf("=")&&(a=c._add(a.replace(b,"")+'||""'));return a+"\n"},_compile:function(b){var a="var $r="+(d?'""':"[]")+";\n";e.Object.each(b.split(c.openTag),function(b,d){var f=
d.split(c.closeTag);1==f.length?a+=c._parseHtml(f[0]):(a+=c._parseScript(f[0]),f[1]&&(a+=c._parseHtml(f[1])))});a+="return "+(d?"$r;":'$r.join("");');return new Function("$data",a)},tmpl:function(b,d){var k,j,h;if("string"==typeof b)k=b;else if(k=b.tmpl,h=b.id)if(a[h])j=a[h];else{var n=document.getElementById(h);n&&(k=(n.value||n.innerHTML).replace(/\s/g,""))}if(!j){if(!k){e.Debug.error("\u6a21\u677f\u672a\u5b9a\u4e49");return}j=c._compile(k);h&&(a[h]=j)}return d?j(d):j}};return c});
handy.add("HashChange",["handy.base.Debug","handy.base.Util"],function(e,a,b){function d(c){if(c==n)return!1;var b=h.contentWindow.document;b.open();b.write("<!doctype html><html><body>"+c+"</body></html>");b.close();n=c;e.log("set:"+h.contentWindow.document.body.innerText)}function c(){var c=a.getHash(),b=h.contentWindow.document.body.innerText;c!=n?(d(c),f(c)):b!=n&&(e.log("update:"+h.contentWindow.document.body.innerText),a.setHash(b))}function f(c){var b=w.listeners,a;for(a in b)b[a](c)}var g,
k=0,j=document,h,n,q=j.documentMode,p="onhashchange"in window&&(void 0===q||7<q),w={delay:50,listen:function(e,n){if(!g)if(g=!0,w.listeners={},p)$(window).on("hashchange",function(){f(a.getHash())});else h=$('<iframe id="fff" tabindex="-1" style="display:none" width=0 height=0 title="empty" />').appendTo(j.body)[0],$(h).one("load",function(){d(a.getHash());setInterval(c,w.delay)});if(n in w.listeners)throw Error("Duplicate name");n=n||b.expando+ ++k;w.listeners[n]=e;return n},unListen:function(c){for(var b in w.listeners)(!c||
c==b)&&delete w.listeners[b]}};return w});
handy.add("Support",function(e){var a;if(6==e.Browser.ie())try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}return{testSvg:function(b){if(void 0!=a)b(a);else{var c=window,f=!!c.document.createElementNS&&!!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&!(c.opera&&-1===navigator.userAgent.indexOf("Chrome")),e=new c.Image;e.onerror=function(){a=!1;b(a)};e.onload=function(){a=!(1===e.width&&1===e.height)||!f?!1:!0;b(a)};e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}}}})(function(e){Hui=
H=$H=e.noConflict();$D=$H.Debug;$HB=$H.Browser;$HC=$H.Cookie;$HD=$H.Date;$HF=$H.Function;$HO=$H.Object;$HS=$H.String;$HU=$H.Util;$HL=$H.Listener;$Define=$H.Loader.define;$Require=$H.Loader.require;$G={config:{}};e=window.$;e.fn.remove=$HF.intercept(e.fn.remove,function(){$HL.fire("removeEl",this.target)})})(handy);
$Define("c.ComponentManager",function(){var e=$HO.createClass(),a=$H.expando+"_cmp_",b={},d={};$C=e;$HO.extend(e,{init:function(){$HL.add("afterRender",function(c){e.afterRender(c)});$HL.add("removeEl",function(c){e.destroy(c)})},registerType:function(c,a){b[c]=a;a.prototype.xtype=c;$C[c]=a},getClass:function(c){return b[c]},register:function(c){d[c.getId()]=c},unregister:function(c){delete d[c.getId()]},eachInEl:function(c,b){c.find(".js-component").each(function(c,a){a=$(a);var d=a.attr("id"),d=
e.get(d);b(d)})},afterRender:function(c){e.eachInEl(c,function(c){c.afterRender()})},destroy:function(c){e.eachInEl(c,function(c){c.destroy(!0)})},generateId:function(c,b){var e=a+(c||$H.Util.getUuid());if(!0!=b&&d[e])$D.error("id\u91cd\u590d:"+e);else return e},get:function(c){return d[c]||d[e.generateId(c,!0)]}});e.init();return e});
$Define("c.AbstractComponent","c.ComponentManager",function(e){var a=$HO.createClass(),b=/^(<[a-zA-Z]+)/,d=/(class=")/;$H.CM=a;$HO.extend(a,{define:function(c){var b=$HO.createClass();$HO.inherit(b,a,null,null,{notCover:function(c){return"define"==c}});e.registerType(c,b);return b},html:function(c){c.autoRender=!1;return(new this(c)).getHtml()}});$HO.extend(a.prototype,{xtype:"AbstractComponent",autoRender:!0,renderBy:"append",activeCls:"hui-active",_customEvents:["beforeRender","afterRender","show",
"hide","destroy"],_defaultEvents:["click","mouseover","focus"],initialize:function(c){this.doConfig(c);this.parseItems();this.initHtml();this.fire("beforeRender");!1!=this.autoRender&&(this.renderTo[this.renderBy](this.getHtml()),this.afterRender());e.register(this)},doConfig:function(c){var b=this;b.params=c;b.settings=$HO.extend({},c);var a=b.listeners||[];b._listeners=c.listeners?a.concat(c.listeners):a.concat();$HO.extend(b,c,{notCover:function(a){var d=b[a],e=$HO.contains(b._customEvents,a),
g=$HO.contains(b._defaultEvents,a);(e||g)&&b._listeners.push({type:a,notEl:e,handler:c[a]});if(null!=d&&"object"==typeof d||$HO.isFunction(d))return!0}});b.renderTo=c.renderTo?$(c.renderTo):$(document.body);b.children=[]},initHtml:function(){"string"!=typeof this.tmpl&&(this.constructor.prototype.tmpl=this.tmpl.join(""));var c=$H.Template.tmpl({id:this.xtype,tmpl:this.tmpl},this),a=this.getId(),c=c.replace(b,'$1 id="'+a+'"'),c=c.replace(d,"$1"+this.getExtCls());this.hidden&&(c=c.replace(b,'$1 style="'+
("visibility"==this.displayMode?"visibility:hidden":"display:none")+'"'));this.html=c},getId:function(){return this._id||(this._id=e.generateId(this.cid))},getEl:function(){return this._container},getHtml:function(c){if(!c)return this.html;c=">*"==c?this.children:this.find(c);for(var b=[],a=0;a<c.length;a++)b.push(c[a].getHtml());return b.join("")},getExtCls:function(){var c=["js-component"];this.extCls&&c.push(this.extCls);this.theme&&c.push("hui-"+this.cls+"-"+this.theme);this.disabled&&c.push("hui-disable");
this.radius&&c.push("hui-radius-"+this.radius);this.isMini&&c.push("hui-mini");this.shadow&&c.push("hui-shadow");this.shadowSurround&&c.push("hui-shadow-surround");this.shadowInset&&c.push("hui-shadow-inset");this.isActive&&c.push(this.activeCls);this.isFocus&&c.push("hui-focus");this.isInline&&c.push("hui-inline");return 0<c.length?c.join(" ")+" ":""},afterRender:function(){this.rendered||(this.callChild(),this._container=$("#"+this.getId()),this.rendered=!0,!0!=this.notListen&&this.initListeners(),
this.disabled&&this.suspendListeners(),this.hidden||this.show(),this.fire("afterRender"),delete this.html)},hide:function(){if(this.showed){this.showed=!1;var c=this.getEl();"visibility"==this.displayMode?c.css({visibility:"hidden"}):c.hide();this.withMask&&this.unmask();this.fire("hide")}},show:function(){if(!this.showed){this.showed=!0;var c=this.getEl();"visibility"==this.displayMode?c.css({visibility:"visible"}):c.show();this.withMask&&this.mask();this.fire("show");this.callChild()}},enable:function(){this.resumeListeners();
this.getEl().removeClass("hui-disable")},disable:function(){this.suspendListeners();this.getEl().addClass("hui-disable")},active:function(){this.getEl().addClass(this.activeCls)},unactive:function(){this.getEl().removeClass(this.activeCls)},mask:function(){a.mask||(a.mask=$('<div class="hui-mask" style="display:none;"></div>').appendTo(document.body));a.mask.show()},unmask:function(){a.mask&&a.mask.hide()},fire:function(c){for(var b=this._listeners.length-1;0<=b;b--){var a=this._listeners[b];if(a.type==
c){var d=a.delegation;d({obj:this,data:a.data})}}},listen:function(c){var b=this,a=c.type,d=b._listeners,e=c.el,h=c.method||"bind",n=c.selector,q=c.data,p=c.delegation=function(){if(!0!=b.isSuspend)return c.handler.apply(c.scope||b,arguments)};$H.Browser.mobile()&&"click"==a&&(a="touchend");e=e?"string"==typeof e?b.find(e):e:b.getEl();if(!c.notEl)if(n)if(q)e[h](n,a,q,p);else e[h](n,a,p);else if(q)e[h](a,q,p);else e[h](a,p);d.push(c)},unlisten:function(c){var b=c.type,a=c.el||this.getEl(),d="delegate"==
c.method?"undelegate":"unbind",e=c.selector,h;$H.Browser.mobile()&&"click"==b&&(b="touchend");for(var n=this._listeners.length-1;0<=n;n--){var q=this._listeners[n];if(q.handler==c.handler){h=q.delegation;this._listeners.splice(n,1);break}}if(!c.notEl)if(e)a[d](e,b,h);else a[d](b,h)},initListeners:function(){if(!this.listened){this.listened=!0;var c=this._listeners;this._listeners=[];for(var b=c.length-1;0<=b;b--)this.listen(c[b]);this.callChild()}},clearListeners:function(){for(var c=this._listeners,
b=c.length-1;0<=b;b--)this.unlisten(c[b]);this.callChild()},suspendListeners:function(){this.isSuspend||(this.isSuspend=!0,this.callChild())},resumeListeners:function(){this.isSuspend&&(this.isSuspend=!1,this.callChild())},each:function(c,b){$HO.each(this.children,c,b)},match:function(c){if("*"==c)return!0;var b,a,d;c=c.replace(/^([^\[]+)/,'[xtype="$1"]');for(var e=/\[([^=|\!]+)(=|\!=)([^=]+)\]/g;b=e.exec(c);)if(a=b[1],d=b[2],b=eval(b[3]),"="===d?this[a]!=b:this[a]==b)return!1;return!0},find:function(b,
a){if(0!=b.indexOf("$"))return this.getEl().find(b);a=a||[];var d=1==b.indexOf(">"),e=b.replace(/^\$>?\s?/,""),j=e.search(/\s|>/),h;0<j&&(h=e.substring(j),e=e.substring(0,j));this.each(function(j,q){q.match(e)&&(h?q.find("$"+h,a):a.push(q));d||q.find(b,a)});return a},index:function(){var b=this,a=b.parent;if(a){var d;a.each(function(a,e){if(e==b)return d=a,!1});return d}return null},callChild:function(b){var a=this.children;b=b||arguments.callee.caller.$name;for(var d=0,e=a.length;d<e;d++)a[d][b]()},
add:function(b){this.children.push(b);b.parent=this},remove:function(b){for(var a=this.children,d=!1,e=0,j=a.length;e<j;e++)a[e]==b&&(a.splice(e,1),b.destroy(),d=!0);return d},addItem:function(b){var a=this.settings,d=a.items;d?$HO.isArray(d)||(a.items=[d]):a.items=[];a.items.push(b)},parseItem:function(){},parseItems:function(){this.icon&&this.addItem({xtype:"Icon",name:this.icon});var b=this.settings.items;if(b)for(var b=b.length?b:[b],a=0,d=b.length;a<d;a++){var k=b[a];this.defItem&&$HO.extend(k,
this.defItem,{notCover:!0});this.parseItem(k);var j=e.getClass(k.xtype);k.autoRender=!1;k=new j(k);this.add(k)}},destroy:function(b){e.unregister(this);this.fire("destroy");this.clearListeners();b||(this.callChild(),this.getEl().remove());delete this.params;delete this.settings;delete this._container;delete this.renderTo;delete this._listeners;delete this.children}});return a});
$Define("c.Icon","c.AbstractComponent",function(e){e=e.define("Icon");$H.Support.testSvg(function(a){a||$("html").addClass("hui-nosvg")});$HO.extend(e.prototype,{hasBg:!0,tmpl:['<span class="hui-icon hui-icon-<%=this.name%><%if(this.hasBg){%> hui-icon-bg<%}%>"></span>']});return e});
$Define("c.Button","c.AbstractComponent",function(e){e=e.define("Button");$HO.extend(e.prototype,{iconPos:"left",theme:"gray",activeCls:"hui-btn-blue",cls:"btn",defItem:{xtype:"Icon",hasBg:!0},radius:"normal",shadow:!0,isInline:!0,tmpl:'<a href="javascript:;" hidefocus="true" class="hui-btn,<%if(!this.text){%> hui-btn-icon-notxt<%},if(this.isBack){%> hui-btn-back<%},if(this.hasIcon&&this.text){%> hui-btn-icon-<%=this.iconPos%><%}%>">,<span class="hui-btn-txt"><%=this.text%></span>,<%=this.getHtml(">*")%>,</a>'.split(","),
parseItem:function(a){"Icon"==a.xtype&&(this.hasIcon=!0)}});return e});
$Define("c.Input","c.AbstractComponent",function(e){e=e.define("Input");$HO.extend(e.prototype,{radius:"normal",iconPos:"left",btnPos:"right",tmpl:['<div class="hui-input<%if(this.hasIcon){%> hui-input-icon-<%=this.iconPos%><%}%>','<%if(this.hasBtn){%> hui-input-btn-<%=this.btnPos%><%}%>">','<%=this.getHtml(">*")%>','<input type="text" class="js-input hui-input-txt" value="<%=this.value%>"<%if(this.placeholder){%> placeholder="<%=this.placeholder%><%}%>"/>',"</div>"],listeners:[{type:"focus",el:".js-input",
handler:function(){this.getEl().addClass("hui-focus")}},{type:"blur",el:".js-input",handler:function(){this.getEl().removeClass("hui-focus")}}],doConfig:function(a){this.callSuper(a);"search"==this.type&&(this.icon="search");this.withClear&&this.addItem({xtype:"Button",radius:"big",icon:"delete",click:function(){this.parent.find("input").val("").focus()}})},parseItem:function(a){"Icon"==a.xtype?this.hasIcon=!0:"Button"==a.xtype&&(this.hasBtn=!0)},val:function(a){var b=this.find("input");if(a)b.val(a);
else return b.val()},focus:function(){this.find("input").focus()}});return e});
$Define("c.Tab","c.AbstractComponent",function(e){e=e.define("Tab");$HO.extend(e.prototype,{defItem:{xtype:"Button",radius:null,isInline:!1,iconPos:"top",shadow:!1},tmpl:['<div class="hui-tab">','<ul class="c-clear">',"<%for(var i=0,len=this.children.length;i<len;i++){%>",'<li class="js-tab-item hui-tab-item" style="width:<%=100/len%>%">',"<%=this.children[i].getHtml()%>","</li>","<%}%>","</ul>","<%for(var i=0,len=this.children.length;i<len;i++){%>",'<div class="js-tab-content"<%if(!this.children[i].active){%> style="display:none"<%}%>>',
"<%=this.children[i].content%>","</div>","<%}%>","</div>"],listeners:[{type:"click",selector:".js-tab-item",method:"delegate",handler:function(a){a=$(a.currentTarget).index();this.setActiveItem(a);this.find(".js-tab-content").hide().eq(a).show();this.itemClick&&this.itemClick(this.children[a])}}],setActiveItem:function(a){this.callChild("unactive");("number"==typeof a?this.children[a]:this.find(a)[0]).active()},getActiveItem:function(a){var b,d;this.each(function(a,e){if(e.isActive)return d=e,b=a,
!1});return a?b:d}});return e});
$Define("c.Toolbar","c.AbstractComponent",function(e){e=e.define("Toolbar");$HO.extend(e.prototype,{cls:"tbar",tmpl:['<div class="hui-tbar<%if(this.type=="header"){%> hui-header<%}else if(this.type=="footer"){%> hui-footer<%}%>">','<%=this.getHtml(">*")%>','<%if(this.title){%><h1 class="hui-tbar-title"><%=this.title%></h1><%}%>',"</div>"],parseItem:function(a){"Button"==a.xtype&&(a.shadowSurround=!0,"left"==a.pos?a.extCls=(a.extCls||"")+"hui-tbar-btn-left":"right"==a.pos&&(a.extCls=(a.extCls||"")+
"hui-tbar-btn-right"))}});return e});
$Define("c.Dialog","c.AbstractComponent",function(e){var a=e.define("Dialog");$HO.extend(a,{alert:function(b){return new a({title:"&nbsp;",contentMsg:b,noClose:!0,noCancel:!0})},confirm:function(b,d){return new a({title:"&nbsp;",contentMsg:b,noClose:!0,okCall:function(){return d&&d(!0)},cancelCall:function(){return d&&d(!1)}})},prompt:function(b,d,c){c||(c=d,d="");return new a({title:"&nbsp;",contentMsg:b,noClose:!0,items:{xtype:"Input",role:"content",value:d},okCall:function(){var b=this.find("$Input")[0].val();
return c&&c(b)}})}});$HO.extend(a.prototype,{okTxt:"\u786e\u5b9a",cancelTxt:"\u53d6\u6d88",radius:"normal",cls:"dialog",withMask:!0,tmpl:'<div class="hui-dialog hui-overlay-shadow">;<%=this.getHtml("$>Toolbar")%>;<div class="hui-dialog-body">;<%if(this.content){%><%=this.content%><%}else{%>;<div class="hui-body-content">;<h1 class="hui-content-title"><%=this.contentTitle%></h1>;<div class="hui-content-msg"><%=this.contentMsg%></div>;<%=this.getHtml("$>[role=\'content\']")%>;</div>;<%}%>;<%if(!this.noAction){%>;<div class="hui-body-action">;<%=this.getHtml("$>Button")%>;</div>;<%}%>;</div>;</div>'.split(";"),
doConfig:function(b){var a=this;a.callSuper(b);a.title&&a.addItem({xtype:"Toolbar",title:a.title,theme:"gray",extCls:"hui-dialog-header",items:!a.noClose&&{xtype:"Button",radius:"big",extCls:"hui-tbar-btn-left",icon:"delete",click:function(){a.hide()}}});a.noAction||(a.noOk||a.addItem({xtype:"Button",isActive:!0,text:a.okTxt,isInline:!1,click:function(){!1!=(a.okCall&&a.okCall())&&a.hide()}}),a.noCancel||a.addItem({xtype:"Button",isInline:!1,text:a.cancelTxt,click:function(){!1!=(a.cancelCall&&a.cancelCall())&&
a.hide()}}))},show:function(){var b=this.getEl(),a=document,c=((a.documentElement.offsetWidth||a.body.offsetWidth)-b.width())/2,a=((a.documentElement.clientHeight||a.body.clientHeight)-b.height())/2+a.body.scrollTop,a=10>a?window.screen.height/2-200:a;b.css({left:c+"px",top:a-(this.offsetTop||0)+"px"});this.callSuper()}});return a});
$Define("m.AbstractModule","handy.base.Object",function(e){var a=e.createClass();e.extend(a.prototype,{useCache:!0,cache:function(){},init:function(){},beforeRender:function(){},render:function(){},afterRender:function(){},reset:function(){},exit:function(){return!0},destroy:function(){},initialize:function(b){this.conf=b},getHtml:function(){if(!this.tmpl)return"";"string"!=typeof this.tmpl&&(this.constructor.prototype.tmpl=this.tmpl.join(""));return $H.Template.tmpl({id:this.xtype,tmpl:this.tmpl},
this)},getEl:function(){return this._container}});return a});$Define("m.AbstractDao",function(){var e=$HO.createClass();$HO.extend(e.prototype,{ajax:function(a){this.beforeSend(a);a.error=$HF.intercept(this.error,a.error);a.success=$HF.intercept(this.success,a.error);return $.ajax(a)},beforeSend:$H.noop,error:$H.noop,success:$H.noop});return e});$Define("m.AbstractView",function(){var e=$HO.createClass();$HO.extend(e.prototype,{})});
$Define("m.AbstractNavigator","handy.base.Object",function(e){var a=e.createClass();e.extend(a.prototype,{navigate:function(){}});return a});
$Define("m.History","handy.base.HashChange",function(e){var a=$HO.createClass(),b=0;$HO.extend(a.prototype,{initialize:function(b){this.key=b||"handy";this.states=[];e.listen($H.Function.bind(this.stateChange,this))},stateChange:function(){var b=this.getHashParam().hKey;if(b=this.states[b])b.onStateChange(b.param,!0)},saveState:function(a){var c=this.key+ ++b;this.states.push(c);this.states[c]=a;$HU.setHash("#"+JSON.stringify({hKey:c,param:a.param}))},getHashParam:function(){try{var b=$HU.getHash().replace("#",
"");return JSON.parse(b)}catch(a){$H.Debug.warn("History.getCurrentState:parse hash error:"+a.message)}},getCurrentState:function(){try{var b=this.getHashParam();return this.states[b.hKey]}catch(a){$H.Debug.warn("History.getCurrentState:parse hash error:"+a.message)}},getPreState:function(){try{for(var b=JSON.parse($HU.getHash().replace("#","")).hKey,a=this.states,e=a.length,g=0;g++;g<e)if(a[g]==b)return 0<g?a[a[--g]]:null}catch(k){$H.Debug.error("History.getPreState error:"+k.message)}},back:function(){var b=
this.getPreState();if(b)b.onStateChange(b.param)}});return a});
$Define("m.ModuleManager","m.History",function(e){var a=$HO.createClass();$HO.extend(a.prototype,{_getModWrapper:function(b){b="modWrapper_"+b;var a=$("#"+b);0==a.length&&(a=$('<div id="'+b+'"></div>'));return a},_createMod:function(b){var a=this,c=b.modName;a.modules[c]={waiting:!0};$Require(a.defModPackage+c,function(e){e=new e;e.name=c;e.mType=c;e.initParam=b;a.modules[c]=e;e.init(b);e.beforeRender();var g=a._getModWrapper(c);e._container=g;var k=e.renderTo?$(e.renderTo):a.container;g.html(e.getHtml());
k.append(g);$HL.fire("afterRender",g);e.render(g);a.currentMod==c&&a._showMod(e);e.afterRender()})},_showMod:function(b){if(this.navigator&&this.navigator.navigate(b,this))return!1;this._hideAll();b._container.show();b.isActive=!0},_hideAll:function(){var b=this.modules,a;for(a in b)b[a]._container.hide(),b[a].isActive=!1},initialize:function(a){a&&(this.conf=a,$HO.extend(this,a),this.container=a.container?$(a.container):$(document.body));this.defModPackage+=".";this.history=new e;this.modules={}},
go:function(a,d){var c=a.modName,e=this.currentMod,g=this.modules,k=g[e];if(e==c)k.waiting||k.reset();else{if(k&&!k.waiting&&!k.exit())return!1;(e=g[c])?e.useCache?(this._showMod(e),e.cache(a)):e.waiting||(e.destroy(),this._createMod(a)):this._createMod(a);!0!=d&&this.history.saveState({onStateChange:$H.Function.bind(this.go,this),param:a});this.currentMod=c}}});return a});
