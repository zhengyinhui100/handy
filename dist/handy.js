/* Handy v1.0.0-dev  |  zhengyinhui100@gmail.com */
(function(){var d=window.HANDY,a=window.$,b=window.HANDY=window.$=function(){};b.version="1.0.0";b.expando="handy"+(b.version+Math.random()).replace(/\D/g,"");b.add=function(c,a,e){e||(e=a);b[c]=e(b)};b.noConflict=function(c){window.$===b&&(window.$=a);c&&window.HANDY===b&&(window.HANDY=d);return b}})();
HANDY.add("Object",function(){var d={namespace:function(b,c){var a=null,e,d,j;d=b.split(".");a=d[0];a=eval("(function(){if (typeof "+a+' == "undefined"){'+a+" = {};}return "+a+";})()");e=1;for(j=d.length;e<j;++e){if(e==j-1&&c)a[d[e]]=c;else if(c||a[d[e]])a[d[e]]=a[d[e]]||{};else return;a=a[d[e]]}return a},createClass:function(b){var c=function(){var b,a;b=this.constructor==c?this:arguments.callee;if(a=b.initialize)return a.apply(b,arguments)};b&&this.namespace(b,c);return c},extend:function(b,c,a){var e=
a?a.notCover:!1;a=a?a.notClone:!1;for(var g in c)if(!e||!b.hasOwnProperty(g))b[g]=a?c[g]:d.clone(c[g]);return b},mix:function(b,c,a,e){b.superClass||(b.superClass={});for(var g in c)b.superClass[g]=d.isFunction(c[g])?b.superClass[g]?function(b,a){return function(){a.apply(this,arguments);c[b].apply(this,arguments)}}(g,b.superClass[g]):c[g]:c[g],b[g]||(b[g]=c[g]);a&&d.extend(b,a);c.toString!=c.constructor.prototype.toString&&(b.superClass.toString=function(){c.toString.apply(b,arguments)});e&&(b.prototype&&
c.prototype)&&d.inherit(b,c,e);return b},inherit:function(b,c,a){var e=function(){};e.prototype=c.prototype;d.extend(b,c,{notCover:!0});b.prototype=new e;b.prototype.constructor=b;b.superConstructor=c;b.superClass=c.prototype;if(c._onInherit)try{c._onInherit(b)}catch(g){}a&&d.extend(b.prototype,a)},isFunction:function(b){return"[object Function]"===window.Object.prototype.toString.call(b)},isArray:function(b){return"[object Array]"===window.Object.prototype.toString.call(b)},equals:function(b,c){if(typeof b==
typeof c){if("object"!=typeof b)return b===c;if(b===c)return!0;if(d.isArray(b)&&d.isArray(c)){if(b.length!=c.length)return!1;for(var a=0,e=b.length;a<e;a++)if(!d.equals(b[a],c[a]))return!1;return!0}if(!d.isArray(b)&&!d.isArray(c)){if(d.count(b)!=d.count(c))return!1;for(a in b)if(void 0==c[a]||!d.equals(b[a],c[a]))return!1;return!0}}return!1},clone:function(b){if(null==b||"object"!=typeof b)return b;var c=b.constructor;if(c!=window.Object&&c!=window.Array)return b;if(c==window.Date||c==window.RegExp||
c==window.Function||c==window.String||c==window.Number||c==window.Boolean)return new c(b);try{var a=new c,e;for(e in b)a[e]=d.clone(b[e]);return a}catch(g){return b}},isEmpty:function(b){if(d.isArray(b))return 0==b.length;for(var c in b)return!1;return!0},each:function(b,c,a){var e,g=0,j=b.nLength,n=void 0===j||d.isFunction(b);if(a)if(n)for(e in b){if(!1===c.apply(b[e],a))break}else for(;g<j&&!1!==c.apply(b[g++],a););else if(n)for(e in b){if(!1===c.call(b[e],e,b[e]))break}else for(;g<j&&!1!==c.call(b[g],
g,b[g++]););return b},count:function(b){if(d.isArray(b))return b.length;var c=0,a;for(a in b)c++;return c},toArray:a,genMethod:function(b,a,f){a=d.isArray(a)?a:a.split(",");for(var e=0;e<a.length;e++){var g=a[e];b[g]=f(g)}}},a;a=(a=window.navigator.userAgent.match(/MSIE ([\d.]+)/))&&9>parseInt(a[0])?function(b,a,d){var e=[];if(b.length){a=a||0;for(d=d||b.length;a<d;a++)e.push(b[a])}return e}:function(b,a,d){return Array.prototype.slice.call(b,a||0,d||b.length)};return d});HANDY.add("Core",function(){});
HANDY.add("Date",function(){var d=window.Date,a={getWeek:function(b,a){var d=b.getDay();a&&(d=(d+(a%7+7))%7);return"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")[d]},isWeeken:function(b){return 0==b.getDay()||6==b.getDay()},getDaysInMonth:function(b){b=new d(b.getFullYear(),b.getMonth()+1,0);return b.getDate()},getDaysInYear:function(b){var a=new d(b.getFullYear(),0,0);b=new d(b.getFullYear()+1,0,0);return Math.floor((b.getTime()-a.getTime())/864E5)},getDayIndexOfYear:function(b){var a=new d("1/1/"+
b.getFullYear());return Math.ceil((b.getTime()-a.getTime())/864E5)},format:function(b,c){c=c||"yyyy-MM-dd HH:mm:ss";b=b||new d;var f=b.getHours(),e=Math.floor((b.getMonth()+3)/3),f={"y+":b.getFullYear(),"M+":b.getMonth()+1,"d+":b.getDate(),"h+":0==f%12?12:f%12,"H+":f,"m+":b.getMinutes(),"s+":b.getSeconds(),"w+":a.getWeek(b),"q+":e,"Q+":["\u4e00","\u4e8c","\u4e09","\u56db"][e-1],"S+":b.getMilliseconds()},g;for(g in f)RegExp("("+g+")").test(c)&&(e=RegExp.$1.length,c=c.replace(RegExp.$1,1==e?f[g]:("00"+
f[g]).slice(-e)));return c},parse:function(b,a){for(var f=(a||"yyyy-MM-dd HH:mm:ss").match(/[a-zA-Z]+/g),e=b.match(/\d+/g),g=new d,j=0;j<e.length;j++){var n=f[j],k=parseInt(e[j]);switch(n){case "yyyy":g.setFullYear(k);break;case "MM":g.setMonth(k-1);break;case "dd":g.setDate(k);break;case "HH":g.setHours(k);break;case "mm":g.setMinutes(k);break;case "ss":g.setSeconds(k);break;case "SS":g.setMilliseconds(k)}}return g}};return a});
HANDY.add("Browser",["Object"],function(d){var a={},b={};d.Object.genMethod(b,"ie firefox chrome safari opera windows linux mac trident webkit gecko presto sogou maxthon tt theWorld is360 flash".split(" "),function(b){return function(c){var d=a[b];return!c&&"string"===typeof d?parseInt(d):d}});d=window.navigator.userAgent;var c;(c=d.match(/MSIE ([\d.]+)/))?a.ie=c[1]:(c=d.match(/Firefox\/([\d.]+)/))?a.firefox=c[1]:(c=d.match(/Chrome\/([\d.]+)/))?a.chrome=c[1]:(c=d.match(/Opera.([\d.]+)/))?a.opera=
c[1]:(c=d.match(/Version\/([\d.]+).*Safari/))?a.safari=c[1]:0;/windows|win32/i.test(d)?a.windows=!0:/linux/i.test(d)?a.linux=!0:/macintosh/i.test(d)?a.mac=!0:0;/trident/i.test(d)?a.trident=!0:/webkit/i.test(d)?a.webkit=!0:/gecko/i.test(d)?a.gecko=!0:/presto/i.test(d)?a.presto=!0:0;/MetaSr/i.test(d)?a.sogou=!0:/Maxthon/i.test(d)?a.maxthon=!0:/TencentTraveler/i.test(d)?a.tt=!0:/TheWorld/i.test(d)?a.theWorld=!0:/360[S|E]E/i.test(d)?a.is360=!0:0;var f;try{if(a.ie){var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
e&&(f=e.getVariable("$version").split(" ")[1])}else if(navigator.plugins&&0<navigator.plugins.length&&(e=navigator.plugins["Shockwave Flash"])){var g=e.description.split(" ");c=0;for(var j=g.length;c<j;c++)if(0<parseInt(g[c])){f=g[c];break}}}catch(n){}a.flash=f?f:null;return b});
HANDY.add("String",function(){var d={stripTags:function(a){return a.replace(/<\/?[^>]+>/gi,"")},escapeHTML:function(a){var b=document.createElement("div");a=document.createTextNode(a);b.appendChild(a);return b.innerHTML},unescapeHTML:function(a){var b=document.createElement("div");b.innerHTML=d.stripTags(a);return b.childNodes[0].nodeValue},decodeHTML:function(a){a=a.replace(/&lt;/gi,"<");a=a.replace(/&gt;/gi,">");a=a.replace(/&quot;/gi,'"');a=a.replace(/&apos;/gi,"'");a=a.replace(/<\/?br>/gi,"\n");
a=a.replace(/&amp;/gi,"&");return a=a.replace(/&nbsp;/gi," ")},encodeHTML:function(a){a=a.replace(/&/gi,"&amp;");a=a.replace(/</gi,"&lt;");a=a.replace(/>/gi,"&gt;");a=a.replace(/\"/gi,"&quot;");a=a.replace(/\'/gi,"&apos;");a=a.replace(/\n/gi,"</br>");return a=a.replace(/ /gi,"&nbsp;")},trim:function(a){return a=a.replace(/(^(\s|\u3000)+)|((\s|\u3000)+$)/g,"")},check:function(a,b){b||(b=/[,%\'\"\/\\;|\<\>\^]/);return-1<a.search(b)},len:function(a){return a.replace(/[^\x00-\xff]/g,"**").length},left:function(a,
b,c){if(d.len(a)>b){!0===c?c=2:0<c||(c=0);var f=0,e=0;for(b-=c;e<b;)255<a.charCodeAt(f)?e+=2:e++,f++;a=a.substring(0,f);for(f=0;f<c;f++)a+="."}return a},isNumber:function(a){return 0==a.search(/^\d+$/g)},hasChn:function(a){return/[\u4E00-\u9FA5]+/.test(a)},isChn:function(a){return/^[\u4E00-\u9FA5]+$/.test(a)},addParam:function(a,b){b&&(a+=(-1<a.indexOf("?")?"&":"?")+b);return a}};return d});
HANDY.add("Cookie",function(){return{get:function(d,a){var b=d+"=",c="",f=document.cookie;if(0<f.length){var e=f.indexOf(b);-1!=e&&(e+=b.length,b=f.indexOf(";",e),-1==b&&(b=f.length),c=f.substring(e,b),a||(c=unescape(c)))}return c},set:function(d,a,b){var c=[];void 0!=d&&void 0!=a&&c.push(d+"="+escape(a));b&&(void 0!=b.path&&c.push("path="+b.path),void 0!=b.domain&&c.push("domain="+b.domain),void 0!=b.expires&&c.push("expires="+b.expires),b.secure&&c.push("secure"));document.cookie=c.join(";")},del:function(d){var a=
new Date;a.setTime(a.getTime()-1);document.cookie=d+"=;expires="+a.toGMTString()}}});HANDY.add("Util",function(){var d=0;return{isWindow:function(a){return null!=a&&a==a.window},getUuid:function(){return d++}}});
HANDY.add("Function",["Object"],function(d){return{bind:function(a,b,c){var d=Array.prototype.slice.call(arguments,2);return function(){Array.prototype.push.apply(d,arguments);return a.apply(b,d)}},intercept:function(a,b,c,f){c=c||window;f=f||c||window;if(d.Object.isFunction(b))return function(){var d=arguments;f.target=c;f.method=a;return!1!=b.apply(f,d)?a.apply(c,d):null}}}});
HANDY.add("Debug",["Json"],function(){function d(b,a,d){d=d||"log";if(a||this.showInPage){var e=top.document;(a=e.getElementById("debugDiv"))?a.style.display="block":(a=e.createElement("DIV"),a.id="debugDiv",a.innerHTML='<a href="javascript:void(0)" onclick="this.parentNode.style.display=\'none\'">\u5173\u95ed</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.getElementsByTagName(\'DIV\')[0].innerHTML=\'\';">\u6e05\u7a7a</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.style.height=\''+
e.body.offsetHeight+'px\';">\u5168\u5c4f</a>&nbsp;<a href="javascript:void(0)" onclick="this.parentNode.style.height=\'100px\';">\u6062\u590d</a><div></div>',a.style.position="absolute",a.style.width=e.body.offsetWidth-20+"px",a.style.left=0,a.style.top=0,a.style.right=0,a.style.height="100px",a.style.backgroundColor="#aaa",a.style.fontSize="12px",a.style.padding="10px",a.style.overflow="auto",a.style.zIndex=999,e.body.appendChild(a));e=e.createElement("DIV");e.innerHTML=d+":"+JSON.stringify(b,null,
"<br/>");a.getElementsByTagName("DIV")[0].innerHTML=e.innerHTML}try{console[d](b)}catch(g){}}var a={level:0,LOG_LEVEL:1,INFO_LEVEL:2,WARN_LEVEL:3,ERROR_LEVEL:4,DEBUG_LEVEL:5,showInPage:!1,log:function(a,c){this.level>this.LOG_LEVEL||d(a,!!c,"log")},info:function(a,c){this.level>this.INFO_LEVEL||d(a,!!c,"info")},warn:function(a,c){this.level>this.WARN_LEVEL||d(a,!!c,"warn")},error:function(a,c){this.level>this.ERROR_LEVEL||d(a,!!c,"error")},time:function(b,c,f){this.level>this.INFO_LEVEL||(c?d((b||
"")+", \u6d88\u8017\u65f6\u95f4:"+((new Date).getTime()-(a.lastTime||0)),!!f):a.lastTime=(new Date).getTime())},debug:function(a){if(!(this.level>this.DEBUG_LEVEL)&&("undefined"==typeof a||a()))debugger}};return a});
HANDY.add("Loader",["Debug","Object","Function"],function(d){function a(a){function b(a){return/\.(css|js)$/.test(a)?n[a]&&"loaded"==n[a].status:d.Object.namespace(a)}if("string"==typeof a)return b(a);for(var c=[],e=0,g=a.length;e<g;e++){var f=b(a[e]);if(f)c.push(f);else return!1}return c}function b(a,b){function g(){g.isCalled||(g.isCalled=!0,clearTimeout(l),b())}if("SCRIPT"===a.nodeName){var f=a,j=g;f.onload=f.onerror=f.onreadystatechange=function(){if(/loaded|complete|undefined/.test(f.readyState)){f.onload=
f.onerror=f.onreadystatechange=null;if(f.parentNode){try{if(f.clearAttributes)f.clearAttributes();else for(var a in f)delete f[a]}catch(b){}e.removeChild(f)}f=void 0;setTimeout(j,0)}}}else{var m=g;window.hasOwnProperty("attachEvent")?a.attachEvent("onload",m):setTimeout(function(){c(a,m)},0)}var l=setTimeout(function(){d.Debug.error("Time is out:",a.src);g()},k.timeout)}function c(a,b){if(!b.isCalled){var d;if(g)a.sheet&&(d=!0);else if(a.sheet)try{a.sheet.cssRules&&(d=!0)}catch(e){if("SecurityError"===
e.name||"NS_ERROR_DOM_SECURITY_ERR"===e.name)d=!0}setTimeout(function(){d?b():c(a,b)},1)}}function f(b){k.showLoading(!1);n[b].status="loaded";for(var c=j.length-1;0<=c;c--){var e=j[c],f=a(e.deps);f&&(e.callback(f),j.splice(c,1))}k.traceLog&&d.Debug.info("Response: "+b)}var e=document.head||document.getElementsByTagName("head")[0]||document.documentElement,g=navigator.userAgent.indexOf("AppleWebKit"),j=[],n={},k={traceLog:!0,rootPath:"",timeout:15E3,skinName:"skin",urlMap:{},showLoading:function(){},
define:function(a,b,c){2==arguments.length&&(c=b,b=[]);this.require(b,function(e){var f;if("function"==typeof c)try{f=c(e)}catch(g){return}else f=c;e=n[a];e.deps=b;e.factory=c;e.resource=f;d.Object.namespace(a,f)})},require:function(c,g){for(var r="string"==typeof c?[c]:c,s=[],q=[],m=!0,l=0,p=r.length;l<p;l++){var h=r[l];a(h)?q.push(n[h].resource):(s.push(h),m&&(m=!1,j.push({deps:r,callback:g})),k.traceLog&&d.Debug.info("Resource not found: "+h))}if(0==s.length)return q=1==q.length?q[0]:q,g&&g(q),
q;m=!1;r=0;for(q=s.length;r<q;r++)if(l=s[r],!n[l])if(m=l,p=k.urlMap[m],p||(h=k.rootPath,p=/.css$/.test(m)?0==m.indexOf("/")?m:"/css/"+m:/.js$/.test(m)?"/"+m:"/"+m.replace(/\./g,"/")+".js",p=h+p),h=p,m=!0,n[l]={id:l,status:"loading"},p=d.Function.bind(f,null,l),/.css$/.test(h))a:{for(var l=h,h=e.getElementsByTagName("link"),t=0;t<h.length;t++){var u=h[t].href;!k.skinNode&&0<=u.indexOf(k.skinName)&&(k.skinNode=h[t]);if(0<=u.indexOf(l)||0<=l.indexOf(u))break a}h=document.createElement("link");h.rel=
"stylesheet";h.href=l;b(h,p);e.insertBefore(h,k.skinNode)}else l=h,h=document.createElement("script"),h.async="async",h.src=l,h.type="text/javascript",b(h,p),e.appendChild(h);m&&k.showLoading(!0)}};return k});HANDY.add("Support",["Browser"],function(d){if(6==d.Browser.ie())try{document.execCommand("BackgroundImageCache",!1,!0)}catch(a){}return{}});
